<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden; /* Hide scrollbars */
        }
        svg {
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>
<body>
<script>
    // Set up dimensions
    var width = window.innerWidth;
    var height = window.innerHeight;

    // Create the SVG element
    var svg = d3.select("body").append("svg")
        .attr("width", width)
        .attr("height", height);

    // Set up the projection and path generator
    var projection = d3.geo.mercator()
        .scale(width / 2 / Math.PI)
        .translate([width / 2, height / 2]);

    var path = d3.geo.path()
        .projection(projection);

    // Load the GeoJSON data
    var geojsonUrl = 'https://skillet64.github.io/498/world.geojson';

    d3.json(geojsonUrl, function(error, geojson) {
        if (error) throw error;

        // Draw the country borders
        svg.selectAll("path")
            .data(geojson.features)
            .enter().append("path")
            .attr("d", path)
            .attr("fill", "none") // No fill
            .attr("stroke", "#000") // Border color
            .attr("stroke-width", 1); // Border width
    });

    // Load the CSV data
    var csvUrl = 'https://skillet64.github.io/498/ml-Meteorite_Landings.csv'; // Replace with the URL to your CSV file

    d3.csv(csvUrl, function(error, data) {
        if (error) throw error;

        // Process and add pins
        svg.selectAll("circle")
            .data(data)
            .enter().append("circle")
            .attr("cx", function(d) {
                return projection([+d.reclong, +d.reclat])[0];
            })
            .attr("cy", function(d) {
                return projection([+d.reclong, +d.reclat])[1];
            })
            .attr("r", 3)
            .attr("fill", "red")
            .attr("stroke", "black")
            .attr("stroke-width", 1);
        
    });

    // Handle window resizing
    window.onresize = function() {
        width = window.innerWidth;
        height = window.innerHeight;
        svg.attr("width", width)
           .attr("height", height);

        projection
            .scale(width / 2 / Math.PI)
            .translate([width / 2, height / 2]);

        svg.selectAll("path")
            .attr("d", path);

        svg.selectAll("circle")
            .attr("cx", function(d) {
                return projection([+d.reclong, +d.reclat])[0];
            })
            .attr("cy", function(d) {
                return projection([+d.reclong, +d.reclat])[1];
            });
    };
</script>
</body>
</html>




